<html>
    <head>
        <meta charset="utf-8">
        <title>Bin 2 Dec</title>
    </head>

    <body>
        <div id="app">
            <div>
                <label for="binary-input">Enter binary number: </label>
                <input id="binary-input" type="text" v-model="input"/>
            </div>
             <div>
                <template v-if="isValidBinary">Decimal: {{ result }}</template>
                <template v-else-if="!isEmptyInput">Invalid input. A binary number only contains 0's and 1's</template>
            </div>
        </div>

        <script type="module">
            import Vue from 'https://cdn.jsdelivr.net/npm/vue@2.6.11/dist/vue.esm.browser.js'

            new Vue({
                el: '#app',
                data: {
                    input: ''
                },
                computed: {
                    isValidBinary: function() {
                        if(!this.input) {
                            return false
                        }
                        const validInputChars = ['0', '1']
                        
                        for(const i in this.input) {
                            if(!validInputChars.includes(this.input[i])) {
                                return false
                            }
                        }

                        return true
                    },
                    isEmptyInput: function() {
                        return !this.input
                    },
                    result: function() {
                        return this.bin2dec(this.input)
                    }
                },
                methods: {
                    bin2dec: function(input) {
                        return input.split('').reduce((accumulator, binary) => (accumulator * 2) + parseInt(binary))
                    }
                },
            })
        </script>
    </body>
</html>